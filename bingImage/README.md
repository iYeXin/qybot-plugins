# Bing 壁纸插件 (bingImagePlugin)

一个获取每日 Bing 壁纸的插件，支持获取标准分辨率和 UHD 分辨率的壁纸。

## 功能特性

- **每日壁纸获取**：获取当天的 Bing 壁纸。
- **UHD 支持**：可选获取 UHD 分辨率的高质量壁纸。
- **错误处理**：具备完善的错误处理机制，包括API请求失败、JSON解析错误等，并提供友好的错误提示。

## 使用方法

在群聊或私聊中发送以下命令即可获取壁纸：

- `@bot 壁纸`：获取当天的 Bing 壁纸。
- `@bot /bing`：同上，使用斜杠命令格式。
- `@bot /壁纸`：同上，使用斜杠命令格式。
- `@bot bing`：同上，使用英文命令。

### 示例

```
用户: @bot 壁纸
插件: 
[图片]
今日 Bing 壁纸
```

## 配置说明

插件的配置文件为 `config.json`，可以配置是否获取 UHD 分辨率的壁纸。

```json
{
    "isUHD": false
}
```

将 `isUHD` 设置为 `true` 可以获取 UHD 分辨率的壁纸，设置为 `false` 则获取标准分辨率的壁纸。

## 技术细节

### API 接口

插件使用了 Bing 的 API 接口：

- **壁纸获取**：`https://cn.bing.com/hp/api/model` 用于获取当天的壁纸信息。

### 数据处理

1. **壁纸 URL 获取**：插件通过解析 API 返回的 JSON 数据获取壁纸的 URL。
2. **UHD 处理**：当启用 UHD 模式时，插件会尝试将壁纸 URL 转换为 UHD 分辨率的 URL。
3. **URL 标准化**：插件会处理相对路径的 URL，确保返回的 URL 是完整的。

## 错误处理

插件具备完善的错误处理机制，能够处理以下情况：

- **网络请求失败**：当 API 请求失败时，插件会返回错误信息并记录日志。
- **JSON 解析错误**：如果 API 返回的数据无法解析为 JSON，插件会返回解析错误信息。
- **API 返回数据格式错误**：如果 API 返回的数据格式不符合预期，插件会返回相应的错误信息。

