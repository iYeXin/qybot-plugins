# QYbot MC服务器状态插件

基于 [mcstatus.io](https://mcstatus.io) API 实现的 QQ 机器人插件，用于查询 Minecraft 服务器的实时状态。

## 功能特性

- 实时查询 Minecraft 服务器在线状态
- 显示服务器版本信息
- 展示在线玩家数量和列表
- 自定义离线消息和在线模板
- 智能错误处理

## 使用说明

### 1. 查询指令

```
@bot mc
```

或使用斜杠指令：

```
/mc
```

### 2. 配置要求

在 `config.js` 中填写您的 Minecraft 服务器地址：

```javascript
module.exports = {
    // 服务器地址（格式：域名或IP:端口  示例：mc.com:6789）
    SERVER_ADDRESS: "your-server-address:port",
    
    // 其他配置...
}
```

## 使用示例

1. 查询服务器状态（在线时）：

```
用户：@bot mc
机器人：
【MC服务器状态】
版本：1.19.2
在线人数：5/20
在线玩家：
Player1(uuid1)
Player2(uuid2)

欢迎来到我们的服务器！
```

2. 查询服务器状态（离线时）：

```
用户：@bot mc
机器人：喵呜~~服务器不在线呢~嘻嘻嘻
```

3. 查询失败时：

```
用户：@bot mc
机器人：无法获取MC服务器状态
```

## 安装说明

1. 将插件文件夹放入 QYbot 的`/plugins`目录
2. 在`config.js`中填写 Minecraft 服务器地址
3. 重启机器人或等待插件热重载
4. 在 QQ 机器人控制台添加指令：mc

## 错误处理

插件实现了全面的错误处理机制：

1. 网络请求失败时返回友好提示
2. API 响应解析错误时自动捕获
3. 请求超时自动重试（默认10秒超时）
4. 服务器离线时显示自定义消息

通过 `MCStatusChecker` 实现核心状态检查功能，支持：
- SRV 记录解析
- 玩家列表排序
- MOTD 颜色代码保留
- 智能缓存机制（5分钟更新间隔）

这个插件完全遵循 QYbot 的插件开发规范，具有清晰的目录结构和完善的文档说明，可以无缝集成到 QYbot 系统中。
        